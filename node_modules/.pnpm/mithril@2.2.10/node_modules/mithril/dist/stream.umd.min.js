!function(){"use strict";var t=(r,n)=>{if(n!==s&&(r._v=n,4!==r._s)){e(r),r._s=2;for(var o=r._d.slice(),a=r._f.slice(),i=0;i<o.length;i++)4!==o[i]._s&&t(o[i],a[i](r._v))}return r._v},e=t=>{for(var r of(4!==t._s&&(t._s=3),t._d))e(r)},r=(t,e,r)=>{var s=r?n():n(e(t._v));return s._p.push(t),t._d.push(s),t._f.push(e),s},n=(...e)=>{var r=(...e)=>t(r,e.length?e[0]:s);return Object.setPrototypeOf(r,n.prototype),r._s=e.length&&e[0]!==s?2:1,r._v=e.length?e[0]:void 0,r._d=[],r._f=[],r._p=[],r._e=null,r};n["fantasy-land/of"]=n,n.prototype=Object.create(Function.prototype,Object.getOwnPropertyDescriptors({constructor:n,map(t){return r(this,t,2!==this._s)},"fantasy-land/ap"(t){return o(()=>(0,t._v)(this._v),[t,this])},toJSON(){var t=this._v;return null!=t&&"function"==typeof t.toJSON?t.toJSON():t},get end(){return this._e||(this._e=n(),r(this._e,t=>{if(!0===t){for(var e of this._p){var r=e._d.indexOf(this);r>=0&&(e._d.splice(r,1),e._f.splice(r,1))}this._s=4,this._p.length=this._d.length=this._f.length=0}return t},!0)),this._e}})),n.prototype["fantasy-land/map"]=n.prototype.map;var s=n.SKIP={},o=n.combine=(e,s)=>{if(s.some(t=>t.constructor!==n))throw new Error("Ensure that each item passed to stream.combine/stream.merge/lift is a stream.");var o=s.every(t=>2===t._s),a=o?n(e(s)):n(),i=[],_=s.map(n=>r(n,r=>(i.push(n),(o||s.every(t=>1!==t._s))&&(o=!0,t(a,e(i)),i=[]),r),!0)),p=a.end.map(t=>{if(!0===t){for(var e of _)e.end(!0);p.end(!0)}});return a};n.merge=t=>o(()=>t.map(t=>t._v),t),n.scan=(e,n,o)=>{var a=r(o,t=>{var r=e(n,t);return r!==s&&(n=r),r},2!==o._s);return t(a,n),a},n.scanMerge=(e,r)=>{var n=e.map(t=>t[0]),s=o(t=>{for(var s=0;s<n.length;s++)t.includes(n[s])&&(r=e[s][1](r,n[s]._v));return r},n);return t(s,r),s},n.lift=(t,...e)=>o(()=>t(...e.map(t=>t._v)),e),"undefined"!=typeof module?module.exports=n:"function"!=typeof window.m||"stream"in window.m?window.m={stream:n}:window.m.stream=n}();
//# sourceMappingURL=stream.umd.min.js.map
