!function(){"use strict";var e={}.hasOwnProperty,r=async(e,r,t,...n)=>{if("function"==typeof r){if("skip-redraw"===(t=Reflect.apply(r,t,n)))return;if(t&&"function"==typeof t.then&&"skip-redraw"===await t)return;e()}},t=(e,r,t="callback")=>{if(r&&null==e||"function"==typeof e)return e;throw new TypeError(`\`${t}\` must be a function${r?" if provided.":"."}`)},n=()=>{},l=15,a=4096,o=(e,r,t,n)=>({m:e,t:r,a:t,c:n,s:null,d:null}),i=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,s=/\\(["'\\])/g,u=new Map,c=e=>{for(var r,t,n="div",l=[],a={},o=!1;r=i.exec(e);){var c=r[1],f=r[2];if(""===c&&""!==f)n=f;else if(o=!0,"#"===c)a.id=f;else if("."===c)l.push(f);else if("["===r[3][0]){var p=r[6];p&&(p=p.replace(s,"$1")),"class"===r[4]||"className"===r[4]?l.push(p):a[r[4]]=null==p||p}}l.length>0&&(t=l.join(" "));var d={t:n,a:o?a:null,c:t};return u.set(e,d),d},f=function(r,t){var n,l=3,a=1;if("string"!=typeof r){if("function"!=typeof r)throw new Error("The selector must be either a string or a component.");l=r===f.Fragment?0:4}if(null==t||"object"==typeof t&&"number"!=typeof t.m&&!Array.isArray(t)?(a=2,arguments.length<3&&t&&Array.isArray(t.children)&&(n=t.children.slice())):t=null,null==n)if(arguments.length===a+1&&Array.isArray(arguments[a]))n=arguments[a].slice();else for(n=[];a<arguments.length;)n.push(arguments[a++]);if(3===l){t=t||{};var i=e.call(t,"className"),s=i?t.className:t.class,p=u.get(r),d=t;null==p&&(p=c(r)),null!=p.a&&(t={...p.a,...t}),null==s&&null==p.c||(t!==d&&(t={...t}),t.class=null!=s?null!=p.c?`${p.c} ${s}`:s:p.c,i&&(t.className=null))}if(4===l)t={children:n,...t},n=null;else for(var h=0;h<n.length;h++)n[h]=f.normalize(n[h]);return o(l,r,t,n)};f.TYPE_MASK=l,f.TYPE_RETAIN=-1,f.TYPE_FRAGMENT=0,f.TYPE_KEYED=1,f.TYPE_TEXT=2,f.TYPE_ELEMENT=3,f.TYPE_COMPONENT=4,f.TYPE_LAYOUT=5,f.TYPE_REMOVE=6,f.TYPE_SET_CONTEXT=7,f.TYPE_USE=8,f.TYPE_INLINE=9,f.capture=e=>(e.preventDefault(),e.stopPropagation(),"skip-redraw"),f.retain=()=>o(-1,null,null,null),f.inline=e=>o(9,null,t(e,!1,"view"),null),f.layout=e=>o(5,null,t(e),null),f.remove=e=>o(6,null,t(e),null),f.Fragment=e=>e.children,f.keyed=(e,r)=>{r=t(r,!0,"view");var n=new Map;for(var l of e)if("function"==typeof r&&(l=r(l)),null!=l&&"boolean"!=typeof l){if(!Array.isArray(l)||l.length<1)throw new TypeError("Returned value must be a `[key, value]` array");if(n.has(l[0]))throw new TypeError(`Duplicate key detected: ${String(l[0])}`);n.set(l[0],f.normalize(l[1]))}return o(1,null,n,null)},f.set=(e,...r)=>b(7,e,...r),f.use=(e,...r)=>b(8,[...e],...r),f.normalize=e=>null==e||"boolean"==typeof e?null:"object"!=typeof e?o(2,null,String(e),null):Array.isArray(e)?o(0,null,null,e.map(f.normalize)):e;var p,d,h,v,w,y,m,g,b=(e,r,...t)=>{for(var n=1===t.length&&Array.isArray(t[0])?[...t[0]]:[...t],l=0;l<n.length;l++)n[l]=f.normalize(n[l]);return o(e,null,r,n)},E="http://www.w3.org/1999/xlink",T="http://www.w3.org/1999/xhtml",k={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},x=e=>{v?v.after(v=e):h.prepend(v=e)},A=e=>{for(var r;528&1<<(r=e.m&l);)if(!(e=e.c))return;385&1<<r?e.c.forEach(A):12&1<<r?x(e.d):1===r&&e.a.forEach(A)},$=(e,r)=>{var t=null!=r?r.c.length:0,n=null!=e?e.c.length:0,l=n<t?n:t;try{for(var a=0;a<l;a++)O(e.c[a],r.c[a]);for(a=l;a<t;a++)O(null,r.c[a])}catch(t){for(l=a,a=0;a<l;a++)O(r.c[a],null);for(a=l;a<n;a++)O(e.c[a],null);throw t}for(a=l;a<n;a++)O(e.c[a],null)},O=(e,r)=>{if(e!==r){var t;if(null==e){if(null==r)return;if(r.m<0)return;if(16&r.m)throw new TypeError("Vnodes must not be reused");t=r.m&l,r.m|=16}else{if(t=e.m&l,null==r){try{15!==t&&_[t](e)}catch(e){console.error(e)}return}if(r.m<0)return r.m=e.m,r.t=e.t,r.s=e.s,r.a=e.a,r.c=e.c,void(r.d=e.d);if(16&r.m)throw new TypeError("Vnodes must not be reused");t===(r.m&l)&&r.t===e.t?r.m=e.m:(O(e,null),e=null),t=r.m&l}try{D[t](e,r)}catch(r){throw O(e,null),r}}},I={},P=(e,r,t)=>{if(g||t)throw e&&S(e),r;console.error(r)},C=e=>$(e,null),R=e=>e.a.forEach(e=>O(e,null)),j=e=>{try{if(!e.d)return;e.d.remove(),e.d=null}catch(e){console.error(e)}},S=e=>{j(e),$(e,null)},N=e=>O(e.c,null),D=[$,(e,r)=>{var t=0,n=u;try{r.a.forEach((r,n)=>{var l=null!=e?e.a.get(n):null;if(null==l)O(null,r);else{var a=v;A(l),v=a,O(l,r),e.a.delete(n)}t++}),t=-1}catch(e){n=e}if(null!=e&&R(e),n!==u){for(var l of r.a.values()){if(--t)break;O(l,null)}throw n}},(e,r)=>{null==e?x(r.d=y.createTextNode(r.a)):(`${e.a}`!=`${r.a}`&&(e.d.nodeValue=r.a),r.d=v=e.d)},(e,r)=>{var t,n,l=h,o=v,i=w,s=r.m,c=r.a;if(null==e){var f=u.get(r.t),p=f?f.t:r.t,d=p.includes("-"),m=!d&&c&&c.is,g=c&&c.xmlns||k[p]||i,b=m?{is:m}:null;t=g?y.createElementNS(g,p,b):y.createElement(p,b),null==g&&(r.m=s|=m||d?192:"INPUT"===(p=p.toUpperCase())?320:"SELECT"===p?576:"OPTION"===p?1088:"TEXTAREA"===p?2112:64,m&&t.setAttribute("is",m)),h=t,w=g}else r.s=e.s,n=e.a,(w=(h=t=r.d=e.d).namespaceURI)===T&&(w=null);v=null;try{if(null!=n&&n===c)throw new Error("Attributes object cannot be reused.");if(null!=c)for(var E in 256&s&&null!=c.type&&("file"===c.type&&(s|=a),t.type=c.type),c)K(r,t,s,E,n,c);for(var E in n)K(r,t,s|=32,E,n,c)}catch(r){return P(e,r,!0)}if($(e,r),512&s&&null==e){try{var A=L(c,"value");"value"in c&&(null===A?t.selectedIndex>=0&&(t.value=null):(t.selectedIndex<0||t.value!==A)&&(t.value=A))}catch(r){P(e,r,!1)}try{null!==(A=M(c,"selectedIndex"))&&(t.selectedIndex=A)}catch(r){P(e,r,!1)}}h=l,v=o,w=i,null==e&&x(r.d=t),v=t},(e,r)=>{try{var t,n,l,a=r.a;e:{if(null!=e)t=e.s,n=e.c,l=e.a;else if("function"!=typeof(t=(r.s=r.t).call(m,a,l)))break e;t=(r.s=t).call(m,a,l)}O(n,r.c=f.normalize(t))}catch(e){if(g)throw e;console.error(e)}},(e,r)=>{r.d=h,p.push(r)},(e,r)=>{r.d=h},(e,r)=>{var t=Object.getOwnPropertyDescriptors(r.a);for(var n of Reflect.ownKeys(t))t[n].enumerable?"set"in t[n]&&(t[n].set=void 0):t[n]=I;var l=m;m=Object.freeze(Object.create(l,t)),$(e,r),m=l},(e,r)=>{null==e||0===e.length||null==r||0===r.length||r.a.length===e.a.length&&!r.a.some((r,t)=>!Object.is(r,e.a[t]))||($(e,null),e=null),$(e,r)},(e,r)=>{try{O(null!=e?e.c:null,r.c=f.normalize(r.a.call(m,m)))}catch(e){if(g)throw e;console.error(e)}}],_=[C,R,j,S,N,n,e=>p.push(e),C,C,N],M=(r,t)=>{if(null!=r&&e.call(r,t)){var n=r[t];if(!1!==n&&null!=n)return n}return null},L=(r,t)=>{if(null!=r&&e.call(r,t)){var n=r[t];if(!1!==n&&null!=n)return`${n}`}return null},U=/[A-Z]/g,Y=e=>"-"+e.toLowerCase(),z=e=>e.startsWith("--")?e:"cssFloat"===e?"float":e.replace(U,Y),F=(e,r,t,n)=>{for(var l of Object.keys(t)){var a=L(t,l);if(null!==a){var o=L(r,l);n?a!==o&&e.setProperty(z(l),a):null===o&&e.removeProperty(z(l))}}},K=(e,r,t,n,l,o)=>{try{var i=M(o,n),s=M(l,n);if(32&t&&null!==i)return;e:{r:{t:{if(n.length>1){var u=n.charCodeAt(0)|n.charCodeAt(1)<<16;if(2===n.length&&7536745===u)return;if(7209071===u){if(i===s)return;return void("function"==typeof i?("function"!=typeof s&&(null==e.s&&(e.s=new V),r.addEventListener(n.slice(2),e.s)),e.s._=d,e.s.set(n,i)):"function"==typeof s&&(r.removeEventListener(n.slice(2),e.s),e.s.delete(n)))}if(n.length>3){var c=n.charCodeAt(2)|n.charCodeAt(3)<<16;if(n.length>6&&7078008===u&&7209065===c&&3801195==(n.charCodeAt(4)|n.charCodeAt(5)<<16))return n=n.slice(6),void(null!==i?r.setAttributeNS(E,n,i):r.removeAttributeNS(E,n));if(4===n.length){if(7929972===u&&6619248===c){if(!(256&t))break t;if(null===i)break e;break r}if((7471208===u&&6684773===c||6881388===u&&7602291===c||7274598===u&&7143538===c)&&!(128&t))break e}else if(n.length>4)switch(n){case"children":return;case"class":case"className":case"title":if(null===i)break e;break r;case"value":if(64!=(192&t)||!(n in r))break;if(null===i){if(1536&t)break e;break r}if(!(3840&t))break;if(r.value===(i=`${i}`)){if(t&a)return;if(2304&t){if(r===y.activeElement)return}else if(null!=s&&!1!==s)return}if(t&a&&""!==i)return void console.error("File input `value` attributes must either mirror the current value or be set to the empty string (to reset).");break r;case"style":return void(s===i||(null===i?r.style="":"object"!=typeof i?r.style=i:null===s||"object"!=typeof s?(r.style="",F(r.style,null,i,!0)):(F(r.style,s,i,!0),F(r.style,i,s,!1))));case"selected":var f=y.activeElement;if(r===f||1024&t&&r.parentNode===f)break;case"checked":case"selectedIndex":break t;case"width":case"height":if(!(128&t))break e}}}if(null!==i&&"object"!=typeof i&&s===i)return}if(!(64&t))break e}if(n in r)return void(r[n]=i)}null===i?null!==s&&r.removeAttribute(n):r.setAttribute(n,!0===i?"":i)}catch(e){P(l,e,!1)}};class V extends Map{async handleEvent(e){r(this._,this.get(`on${e.type}`),e.currentTarget,e)}}var q=[];f.render=(e,r,{redraw:n,removeOnThrow:l}={})=>{if(!e)throw new TypeError("DOM element being rendered to does not exist.");for(var a of(t(n,!0,"redraw"),q))if(e.contains(a))throw new TypeError("Node is currently being rendered to and thus is locked.");var o=e.ownerDocument.activeElement,i=e.namespaceURI,s=p,u=d,c=h,b=v,E=w,k=y,x=m,A=g,$=p=[];try{for(var{a:I,d:P}of(q.push(h=e),d="function"==typeof n?n:null,v=null,w=i===T?null:i,y=e.ownerDocument,m={redraw:n},g=!!l,null==e.vnodes&&(e.textContent=""),O(e.vnodes,r=f.normalize(r)),e.vnodes=r,null!=o&&y.activeElement!==o&&"function"==typeof o.focus&&o.focus(),$))try{I(P)}catch(e){console.error(e)}}finally{d=u,p=s,h=c,v=b,w=E,y=k,m=x,g=A,q.pop()}},f.mount=(e,r)=>{if(!e)throw new TypeError("Root must be an element");if("function"!=typeof r)throw new TypeError("View must be a function");var t=e.ownerDocument.defaultView,n=0,l=()=>{n&&(t.cancelAnimationFrame(n),n=0)},a=()=>{n||(n=t.requestAnimationFrame(a.sync))},o=(e,t)=>[f.remove(l),r.call(m,!t)];return a.sync=()=>{l(),f.render(e,f(o),{redraw:a})},f.render(e,null),a.sync(),a};var X=e=>{if(!Number.isFinite(e)||e<=0)throw new RangeError("Timer delay must be finite and positive")},W=(e=500,r)=>{X(e);var t=!1,l=0,a=0,o=n,i=()=>{a=void 0,o(!1),o=n},s=async s=>{if(t)return!0;if(o(!0),o=n,a){if(r)return new Promise(e=>o=e);clearTimeout(a),s=!0}return l=performance.now(),a=setTimeout(i,e),s?new Promise(e=>o=e):void 0};return s.update=r=>{X(r),e=r,t||a&&(clearTimeout(a),a=setTimeout(i,l-performance.now()+e))},s.dispose=()=>{t||(t=!0,clearTimeout(a),o(!0),o=n)},s},B=function({p:e}){var r,n,l,a,o=this.href,i=()=>{var t=new URL(o),n=t.pathname+t.search+t.hash,i=e,s=n.indexOf(i);s<0&&(s=n.indexOf(i=encodeURI(i))),s>=0&&(n=n.slice(s+i.length)),"/"!==n[0]&&(n=`/${n}`);var f=new URL(n,o),p=decodeURI(f.pathname);return r=!1,a={prefix:e,path:p,params:f.searchParams,current:p+f.search+f.hash,set:u,match:c},l=f.href},s=()=>{o!==window.location.href&&(o=window.location.href,l!==i()&&n())},u=(t,{replace:l,state:a}={})=>{r&&(l=!0),r=!0,queueMicrotask(s),n(),"object"==typeof window&&window.history[l?"replaceState":"pushState"](a,"",e+t)},c=e=>f.match(a,e);if(o){if("string"!=typeof o)throw new TypeError("The initial route href must be a string if given")}else{if("object"!=typeof window)throw new TypeError("Outside the DOM, `href` must be set");o=window.location.href,window.addEventListener("popstate",s)}return i(),function({v:e}){return n=t(this.redraw,!1,"context.redraw"),[f.remove(()=>window.removeEventListener("popstate",s)),f.set({route:a},f.inline(e))]}},G=()=>{var e,r,t,n=n=>{if(!(n.defaultPrevented||0!==n.button&&0!==n.which&&1!==n.which||n.currentTarget.target&&"_self"!==n.currentTarget.target||n.ctrlKey||n.metaKey||n.shiftKey||n.altKey))return t(e,r),f.capture(n)};return function(l,a){return t=this.route.set,e=l.h,r=l.o,[f.layout(r=>{r.href=this.route.prefix+e,a||r.addEventListener("click",n)}),f.remove(e=>{e.removeEventListener("click",n)})]}},Z={}.toString,H=/\/\/|[:*][^$_\p{IDS}]|[:*].[$\p{IDC}]*[:*]|\*.*?[^$\p{IDC}]|:([$_\p{IDS}][$\p{IDC}]*)[^$\p{IDC}].*?[:*]\1(?![$\p{IDC}])/u,J=/([:*])([$_\p{IDS}][$\p{IDC}]*)|\\\\|\\?([$^*+.()|[\]{}])|\\(.)/gu,Q=(r,t,n,l)=>{var a;if(null!=l&&!1!==l)if(Array.isArray(l))for(var o of l)t=Q(r,t,`${n}[]`,o);else if("object"!=typeof l||null!=(a=Object.getPrototypeOf(l))&&a!==Object.prototype&&"[object Object]"!==Z.call(l)){var i=r.s;r.s="&",t+=i+encodeURIComponent(n)+(!0===l?"":`=${"number"==typeof l||"bigint"==typeof l?l:encodeURIComponent(l)}`)}else for(var s in l)e.call(l,s)&&(t=Q(r,t,`${n}[${s}]`,l[s]));return t},ee=(r,t,n,l)=>{var a={s:r};for(var o in l)e.call(l,o)&&!n.includes(o)&&(t=Q(a,t,o,l[o]));return t},re=new Map,te=e=>{if(H.test(e))throw new SyntaxError("Invalid pattern");var r,t=e.indexOf("?"),n=e.indexOf("#"),l=t<n?t:n,a=new RegExp(`^${e.slice(0,l<0?void 0:l).replace(J,(e,t,n,l,a)=>"*"===t?(r=n,`(?<${n}>.*)`):":"===t?`(?<${n}>[^/]+)`:a||`\\${l||"\\"}`)}$`,"u");return re.set(e,a),a.r=r,a.p=new URLSearchParams(l<0?"":e.slice(l,n<0?void 0:n)),a},ne=e=>{t(e,!1,"redraw");var r=new Map,n=new WeakSet,l=new Set,a=e=>{try{e&&(n.has(e)?l.delete(e):e.abort())}catch(e){console.error(e)}},o=(t,n)=>{var l=r.get(t),o=r.delete(t);return a(l),n&&e(),o};return{s:r,l:l,h:(t,i,s)=>{var u=r.get(t),c=new AbortController;c.key=t,c.value=i,c.release=t=>{t&&f.capture(t),c&&(r.get(c.key)===c?(n.add(c),c=null):l.delete(c)&&e())},c.remove=e=>{e&&f.capture(e),o(c.key,0)},r.set(t,c),l.add(c),1&s&&l.delete(u),a(u),2&s&&e()},r:o}};function le({f:e},t){if(t)return f.retain();var n=new AbortController;return queueMicrotask(()=>r(this.redraw,e,void 0,n.signal)),f.remove(()=>n.abort())}f.route=(e,r)=>{if("string"!=typeof e)throw new TypeError("The route prefix must be a string");return f(B,{v:t(r,!1,"view"),p:e})},f.link=(e,r)=>f(G,{h:`${e}`,o:r}),f.p=(e,r)=>{for(var t=0,n=0,l=2,a=[],o="",i=-1,s=-1,u="",c="?",f=0;;f++){var p=e.charAt(f);if(l>5&&(""===p||"#"===p||"?"===p||"\\"===p||"/"===p||"."===p||"-"===p)){var d=e.slice(n+1,f);if(null!=r&&null!=r[d]){if(a.push(d),d=`${r[d]}`,1&l){var h=d.indexOf("#"),v=(h<0?d:d.slice(0,h)).indexOf("?");v>=0&&(c="&",i=u.length+(t-n)+v),h>=0&&(s=u.length+(t-n)+h)}else d=encodeURIComponent(d);t!==n&&(u+=e.slice(t,n)),u+=d,t=f}}if("#"===p)s<0&&(s=f);else if(""!==p){if(0===l);else if("?"===p)i<0?(i=f,c="&"):(t!==f&&(u+=e.slice(t,f)),u+="&",t=f+1),l=0;else if(1===l)t!==n&&(u+=e.slice(t,n)),l=2,n=t=f;else if("\\"===p)n=f,l=1;else if(":"===p||"*"===p){if(l>2)throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");l=4|"*"===p,n=f}else"/"===p||"."===p||"-"===p?l=2:l>2&&(l|=2);continue}return 0===t&&null==r?e:(t<e.length&&(u+=e.slice(t)),s>=0&&(o=u.slice(s),u=u.slice(0,s)),ee(c,u,a,r)+o)}},f.query=e=>ee("","",[],e),f.match=({path:e,params:r},t)=>{var n=re.get(t);n||(n=te(t));var l=n.exec(e),a=n.r;if(l){for(var[o,i]of n.p)if(r.get(o)!==i)return;for(var o in l.groups)a--&&(l.groups[o]=decodeURIComponent(l.groups[o]));return{...l.groups}}},f.fetch=async(e,r={})=>{t(r.onprogress,!0,"opts.onprogress"),t(r.extract,!0,"opts.extract");try{var n=await fetch(e,r);if(r.onprogress&&n.body){var l=n.body.getReader(),a=n.headers.get("content-length")||"",o=/^\d+$/.test(a)?+a:-1,i=0;n=new Response(new ReadableStream({type:"bytes",start:e=>l||e.close(),cancel:e=>l.cancel(e),async pull(e){var t=await l.read();t.done?e.close():(i+=t.value.length,e.enqueue(t.value),r.onprogress(i,o))}}),n)}if(n.ok){if(r.extract)return await r.extract(n);switch(r.responseType||"json"){case"json":return await n.json();case"formdata":return await n.formData();case"arraybuffer":return await n.arrayBuffer();case"blob":return await n.blob();case"text":return await n.text();case"document":return(new DOMParser).parseFromString(await n.text(),n.headers.get("content-type")||"text/html");default:throw new TypeError(`Unknown response type: ${r.responseType}`)}}var s=await n.text()||n.statusText}catch(c){var u=c;s=c.message}var c=new Error(s);throw c.status=n?n.status:0,c.response=n,c.cause=u,c},f.lazy=e=>{t(e.fetch,!1,"opts.fetch"),t(e.pending,!0,"opts.pending"),t(e.error,!0,"opts.error");var r=new ReferenceError("Component not found"),l=new Set,a=function(){return l.add(t(this.redraw,!1,"context.redraw")),e.pending&&e.pending()},o=async()=>{o=n;try{if("function"!=typeof(a=await e.fetch())&&"function"!=typeof(a=a.default))throw r}catch(r){console.error(r),a=()=>e.error&&e.error(r)}var t=l;for(var i of(l=null,t))i()};return e=>(o(),f(a,e))},f.init=e=>f(le,{f:t(e)}),f.tracked=e=>{var{l:r,h:t,r:l}=ne(e),a=n,o=-1;return e=>(Object.is(a,a=e)||(l(o++,0),t(o,e,1)),[...r])},f.trackedList=(e,r)=>{var{s:t,l:n,h:l,r:a}=ne(e);for(var[o,i]of r||[])l(o,i,1);return{live:()=>[...n],list:()=>Array.from(t.values(),e=>[e.key,e.value]),has:e=>t.has(e),get:e=>(e=t.get(e))&&e.value,set:(e,r)=>l(e,r,3),replace:(e,r)=>l(e,r,2),delete:e=>a(e,1),forget:e=>(e=t.get(e))&&e.release()}},f.throttler=e=>W(e,1),f.debouncer=e=>W(e,0),"undefined"!=typeof module?module.exports=f:window.m=f}();
//# sourceMappingURL=mithril.umd.min.js.map
